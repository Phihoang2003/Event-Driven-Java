package dao;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.ArrayList;

import connectDB.ConnectDB;
import entity.NhanVien;
import entity.PhongBan;

public class NhanVien_Dao {
	public NhanVien_Dao() {
		
	}
	public ArrayList<NhanVien> getAllNhanVien(){
		ArrayList<NhanVien> dsNV=new ArrayList<NhanVien>();
		try {
			ConnectDB.getInstance();
			Connection con=ConnectDB.getConnection();
			String sql="Select * from NhanVien";
			Statement statement=con.createStatement();
			ResultSet rs=statement.executeQuery(sql);
			while(rs.next()) {
				String ma=rs.getString("maNV");
				String ho=rs.getString("ho");
				String ten=rs.getString("ten");
				int tuoi=rs.getInt("tuoi");
				boolean phai =rs.getBoolean("phai");
				PhongBan phong = new PhongBan(rs.getString("maPhong"));
				float luong=rs.getFloat("luong");
				NhanVien nv=new NhanVien(ma,ho,ten,tuoi,phai,phong,luong);
				dsNV.add(nv);
			}
		} catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
		}
		return dsNV;
	}
}
